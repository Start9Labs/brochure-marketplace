<ion-content>
  <div *ngIf="pkg$ | async as pkg; else loading" class="g-content">
    <ion-button routerLink="/marketplace" fill="clear" color="dark">
      <ion-icon slot="start" name="arrow-back"></ion-icon>
      Marketplace
    </ion-button>

    <marketplace-package [pkg]="pkg"></marketplace-package>

    <ion-item-group>
      <marketplace-about [pkg]="pkg"></marketplace-about>
      <marketplace-dependencies
        *ngIf="!(pkg.manifest.dependencies | empty)"
        [pkg]="pkg"
      ></marketplace-dependencies>
    </ion-item-group>

    <marketplace-additional
      [pkg]="pkg"
      (version)="version.next($event)"
    ></marketplace-additional>
  </div>

  <ng-template #loading>
    <text-spinner text="Loading Package"></text-spinner>
  </ng-template>
</ion-content>
